<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>python数据分析 | 大鸟来啦✈️~</title><meta name="keywords" content="大鸟,博客"><meta name="author" content="本大鸟就是玩✈️~"><meta name="copyright" content="本大鸟就是玩✈️~"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Numpy Numpy是一个模块 序章：数组和矩阵的区别 • matrix是array的分支，matrix和array在很多时候都是通用的，用哪一个都一样； • 如果两个可以通用，那就选择array，因为array更灵活，速度更快，很多人把二维的array也翻译成矩阵。 • 相同点：索引方式相同，都可以使用a[i][j]，a[i,j]进行索引 • matrix（矩阵）：具有相对简单的运算符号，比如"><meta property="og:type" content="article"><meta property="og:title" content="python数据分析"><meta property="og:url" content="https://www.hgez6.top/posts/a9da3a59/index.html"><meta property="og:site_name" content="大鸟来啦✈️~"><meta property="og:description" content="Numpy Numpy是一个模块 序章：数组和矩阵的区别 • matrix是array的分支，matrix和array在很多时候都是通用的，用哪一个都一样； • 如果两个可以通用，那就选择array，因为array更灵活，速度更快，很多人把二维的array也翻译成矩阵。 • 相同点：索引方式相同，都可以使用a[i][j]，a[i,j]进行索引 • matrix（矩阵）：具有相对简单的运算符号，比如"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://yun.hgez6.top/api/raw/?path=/picbed/17.jpg"><meta property="article:published_time" content="2023-06-12T06:44:40.000Z"><meta property="article:modified_time" content="2023-10-14T01:23:15.004Z"><meta property="article:author" content="本大鸟就是玩✈️~"><meta property="article:tag" content="大鸟,博客"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://yun.hgez6.top/api/raw/?path=/picbed/17.jpg"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://www.hgez6.top/posts/a9da3a59/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="baidu-site-verification" content="code-pgxsym62GU"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?530e82ef2951b6eb3701161fed246350";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:{limitDay:365,position:"top",messagePrev:"It has been",messageNext:"距离上一次更新文章已经太久请酌情阅读"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:230},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!0},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"/pluginsSrc/flickr-justified-gallery/dist/fjGallery.min.js",css:"/pluginsSrc/flickr-justified-gallery/dist/fjGallery.css"}},isPhotoFigcaption:!0,islazyload:!0,isAnchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"python数据分析",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-10-14 09:23:15"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,n={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(n))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=6||o>=18?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();const a=saveToLocal.get("aside-status");void 0!==a&&("hide"===a?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside")),/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><link rel="stylesheet" href="/css/diycustom.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><canvas id="bubble"></canvas><link rel="stylesheet" href="/css/diybolang.css"><script src="/js/SAO-Notify.js" async></script><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248 626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><link rel="stylesheet" href="/css/chajian/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/chajian/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/chajian/animate.min.css" media="print" onload='this.media="screen"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/chajian/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/chajian/tag_plugins.css" media="defer" onload='this.media="all"'><script src="/js/chajian/carousel-touch.js"></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="大鸟来啦✈️~" type="application/atom+xml"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yun.hgez6.top/api/raw/?path=/picbed/tx.png" onerror='onerror=null,src="/assets/r1.jpg"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">122</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-home"></use></svg> <span class="menu_word" style="font-size:17px">首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon--article"></use></svg> <span class="menu_word" style="font-size:17px">文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-guidang1"></use></svg> <span class="menu_word" style="font-size:17px">时间轴</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-sekuaibiaoqian"></use></svg> <span class="menu_word" style="font-size:17px">标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-fenlei"></use></svg> <span class="menu_word" style="font-size:17px">分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:randomPost();"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-suiji"></use></svg> <span class="menu_word" style="font-size:17px">随便看看</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-pinweishenghuo"></use></svg> <span class="menu_word" style="font-size:17px">休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-yinle"></use></svg> <span class="menu_word" style="font-size:17px">音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Bmovies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-dianying1"></use></svg> <span class="menu_word" style="font-size:17px">视频</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/mypicture/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-xiangce"></use></svg> <span class="menu_word" style="font-size:17px">图库</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-niao"></use></svg> <span class="menu_word" style="font-size:17px">日常</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-dianying"></use></svg> <span class="menu_word" style="font-size:17px">观影</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-shu"></use></svg> <span class="menu_word" style="font-size:17px">看书</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-youxi"></use></svg> <span class="menu_word" style="font-size:17px">游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-xiangzi"></use></svg> <span class="menu_word" style="font-size:17px">八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/zm/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-yun"></use></svg> <span class="menu_word" style="font-size:17px">云电脑</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/guidehg/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-jingzi"></use></svg> <span class="menu_word" style="font-size:17px">引导页</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://yun.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-zuzhiheguanlitubiao-"></use></svg> <span class="menu_word" style="font-size:17px">云空间</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://e5.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-wuxian"></use></svg> <span class="menu_word" style="font-size:17px">E5无限云</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/zjapi/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-APIjiekou"></use></svg> <span class="menu_word" style="font-size:17px">自建API</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://gd.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-qiehuan"></use></svg> <span class="menu_word" style="font-size:17px">切换主题</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-zhifengche"></use></svg> <span class="menu_word" style="font-size:17px">网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-shejiaoxinxi"></use></svg> <span class="menu_word" style="font-size:17px">社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-pengyouquan"></use></svg> <span class="menu_word" style="font-size:17px">朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-liuyan"></use></svg> <span class="menu_word" style="font-size:17px">留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-lianjie"></use></svg> <span class="menu_word" style="font-size:17px">友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-wangye"></use></svg> <span class="menu_word" style="font-size:17px">网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://status.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-jiancefanwei"></use></svg> <span class="menu_word" style="font-size:17px">状态监测</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon--tongjibiao"></use></svg> <span class="menu_word" style="font-size:17px">网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-shujutongji1"></use></svg> <span class="menu_word" style="font-size:17px">文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/aboutweb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-guanyuwomen"></use></svg> <span class="menu_word" style="font-size:17px">关于本站</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-maoliang"></use></svg> <span class="menu_word" style="font-size:17px">个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-qunliaotian"></use></svg> <span class="menu_word" style="font-size:17px">唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-love-sign"></use></svg> <span class="menu_word" style="font-size:17px">恋爱小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-paperplane"></use></svg> <span class="menu_word" style="font-size:17px">关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">大鸟来啦✈️~</a></span><div id="he-plugin-simple"></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-home"></use></svg> <span class="menu_word" style="font-size:17px">首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon--article"></use></svg> <span class="menu_word" style="font-size:17px">文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-guidang1"></use></svg> <span class="menu_word" style="font-size:17px">时间轴</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-sekuaibiaoqian"></use></svg> <span class="menu_word" style="font-size:17px">标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-fenlei"></use></svg> <span class="menu_word" style="font-size:17px">分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:randomPost();"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-suiji"></use></svg> <span class="menu_word" style="font-size:17px">随便看看</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-pinweishenghuo"></use></svg> <span class="menu_word" style="font-size:17px">休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-yinle"></use></svg> <span class="menu_word" style="font-size:17px">音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Bmovies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-dianying1"></use></svg> <span class="menu_word" style="font-size:17px">视频</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/mypicture/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-xiangce"></use></svg> <span class="menu_word" style="font-size:17px">图库</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-niao"></use></svg> <span class="menu_word" style="font-size:17px">日常</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-dianying"></use></svg> <span class="menu_word" style="font-size:17px">观影</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-shu"></use></svg> <span class="menu_word" style="font-size:17px">看书</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-youxi"></use></svg> <span class="menu_word" style="font-size:17px">游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-xiangzi"></use></svg> <span class="menu_word" style="font-size:17px">八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/zm/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-yun"></use></svg> <span class="menu_word" style="font-size:17px">云电脑</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/guidehg/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-jingzi"></use></svg> <span class="menu_word" style="font-size:17px">引导页</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://yun.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-zuzhiheguanlitubiao-"></use></svg> <span class="menu_word" style="font-size:17px">云空间</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://e5.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-wuxian"></use></svg> <span class="menu_word" style="font-size:17px">E5无限云</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/zjapi/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-APIjiekou"></use></svg> <span class="menu_word" style="font-size:17px">自建API</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://gd.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-qiehuan"></use></svg> <span class="menu_word" style="font-size:17px">切换主题</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-zhifengche"></use></svg> <span class="menu_word" style="font-size:17px">网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-shejiaoxinxi"></use></svg> <span class="menu_word" style="font-size:17px">社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-pengyouquan"></use></svg> <span class="menu_word" style="font-size:17px">朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-liuyan"></use></svg> <span class="menu_word" style="font-size:17px">留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-lianjie"></use></svg> <span class="menu_word" style="font-size:17px">友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-wangye"></use></svg> <span class="menu_word" style="font-size:17px">网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://status.hgez6.top/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-jiancefanwei"></use></svg> <span class="menu_word" style="font-size:17px">状态监测</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon--tongjibiao"></use></svg> <span class="menu_word" style="font-size:17px">网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-shujutongji1"></use></svg> <span class="menu_word" style="font-size:17px">文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/aboutweb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-guanyuwomen"></use></svg> <span class="menu_word" style="font-size:17px">关于本站</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-maoliang"></use></svg> <span class="menu_word" style="font-size:17px">个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-qunliaotian"></use></svg> <span class="menu_word" style="font-size:17px">唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-love-sign"></use></svg> <span class="menu_word" style="font-size:17px">恋爱小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.3em;height:1.3em;vertical-align:-.15em;fill:currentColor;overflow:hidden"><use xlink:href="#icon-paperplane"></use></svg> <span class="menu_word" style="font-size:17px">关于</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg> <span>搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">python数据分析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于</span> <time class="post-meta-date-created" datetime="2023-06-12T06:44:40.000Z" title="发表于 2023-06-12 14:44:40">2023-06-12</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-10-14T01:23:15.004Z" title="更新于 2023-10-14 09:23:15">2023-10-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">1.1w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>43分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="python数据分析"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="numpy">Numpy</h1><p>Numpy是一个模块</p><h2 id="序章：数组和矩阵的区别">序章：数组和矩阵的区别</h2><p>• matrix是array的分支，matrix和array在很多时候都是通用的，用哪一个都一样；<br>• 如果两个可以通用，那就选择array，因为array更灵活，速度更快，很多人把二维的array也翻译成矩阵。<br>• 相同点：索引方式相同，都可以使用a[i][j]，a[i,j]进行索引<br>• matrix（矩阵）：具有相对简单的运算符号，比如两个matrix相乘（求内积），就是用符号*<br>• array（数组）：两个一维数组相乘用*，对应元素相乘<br>由于Python:是先循环遍历再计算，Numpyi直接计算，计算数量越大越节省时间<br>一维数组相加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">数组相加</span>(<span class="params">n</span>):</span><br><span class="line">    a=np.arange(<span class="number">1</span>,n+<span class="number">1</span>)**<span class="number">3</span></span><br><span class="line">    b=np.arange(<span class="number">1</span>,n+<span class="number">1</span>)**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"><span class="built_in">print</span>(数组相加(<span class="number">3</span>))</span><br></pre></td></tr></table></figure><p>一维数组相乘，若用sum(a*b)则可以把内部元素相加</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mport numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">数组相乘</span>(<span class="params">n</span>):</span><br><span class="line">    a=np.arange(<span class="number">1</span>,n+<span class="number">1</span>)**<span class="number">3</span></span><br><span class="line">    b=np.arange(<span class="number">1</span>,n+<span class="number">1</span>)**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> a*b</span><br><span class="line"><span class="built_in">print</span>(数组相乘(<span class="number">3</span>))</span><br></pre></td></tr></table></figure><p>多维数组也可以看成矩阵，如果进行矩阵相乘，则需要用到np.dot()，如np.dot(arr.T,arr) <a target="_blank" rel="noopener" href="https://blog.csdn.net/yl_best/article/details/86702200">参考资料</a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34159047/article/details/107182849">Python/Numpy之矩阵/数组/列表转换</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;rand函数的作用就是从标准正态分布中返回一个或多个样本值，</span></span><br><span class="line"><span class="string">这里返回2行3列共6个数的数组。标准正态分布俗称高斯分布，均值为0，方差为1的正态分布。&#x27;&#x27;&#x27;</span></span><br><span class="line">arr=np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">b=np.dot(arr.T,arr)<span class="comment">#把数组当成矩阵，对应元素相乘求内积 arr.T为arr的转置</span></span><br><span class="line"><span class="comment">#将数组转化成矩阵</span></span><br><span class="line">arr_Matrix=np.mat(arr)<span class="comment">#等同于arr Matrix=matrix(arr),mat是natrix的缩写</span></span><br><span class="line">c=arr_Matrix.T*arr_Matrix<span class="comment">#矩阵直接相乘</span></span><br><span class="line"><span class="comment">#将结果输出</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;arr:\n&#123;&#125;\ntype(arr):&#123;&#125;&quot;</span>.<span class="built_in">format</span>(arr,<span class="built_in">type</span>(arr)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;数组（矩阵）乘积：\n&quot;</span>,b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;arr_Matrix:\n&#123;&#125;\ntype(arr_Matrix):&#123;&#125;&quot;</span>.<span class="built_in">format</span>(arr_Matrix,<span class="built_in">type</span>(arr_Matrix)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;矩阵乘积：\n&quot;</span>,c)</span><br><span class="line"><span class="comment">#比较两者乘积是否相等</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;数组矩阵内积-矩阵乘积：\n&quot;</span>,b==c)</span><br></pre></td></tr></table></figure><h2 id="创建数组">创建数组</h2><p>1.1 创建数组的方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>))</span><br><span class="line">c = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="built_in">print</span>(a.dtype) <span class="comment"># int32或int64</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a)) <span class="comment"># &lt;class &#x27;numpy.ndarray&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>以上三种方法结果是一样的，注意一下输入结果是数组<br>array：将输入数据（可以是列表、元组、数组以及其它序列）转换为ndarray(Numpy数组)，如不显示指明数据类型，将自动推断，默认复制所有输入数据。<br>arange：Python内建函数range的数组版，返回一个数组。<br>array的属性：<br>• shape：返回一个元组，表示 array的维度 [形状，几行几列] （2，3）两行三列，（2，2，3）两个两行三列<br>• ndim：返回一个数字，表示array的维度的数目<br>• size：返回一个数字，表示array中所有数据元素的数目<br>• dtype：返回array中元素的数据类型<br>使用arange创建数字序列：<br>np.arange([开始,]结束[,步长],dtype=None)<br>np.arange(5) 返回 array([0,1,2,3,4])<br>np.arange(1,10,2) 返回 array([1,3,5,7,9])<br>np.ones(shape,dtype=None,order='C')<br>a=np.ones(3) # 返回 array([1. 1. 1.])<br>b=np.ones((2,3))<br>b=np.ones((5,), dtype=np.int) # 返回 [1 1 1 1 1]<br>参数：<br>shape：整数或者整型元组定义返回数组的形状；可以是一个数（创建一维向量），也可以是一个元组（创建多维向量）<br>dtype : 数据类型，可选定义返回数组的类型。<br>order : {‘C’, ‘F’}, 可选规定返回数组元素在内存的存储顺序：C（C语言）-rowmajor；F（Fortran）column-major。<br>np.ones_like(a,dtype=float,order='C',subok=True)<br>返回：与a相同形状和数据类型的数组，并且数组中的值都为1<br>参数：<br>a：用a的形状和数据类型，来定义返回数组的属性<br>dtype ： 数据类型，可选<br>order顺序 ： {'C'，'F'，'A'或'K'}，可选,覆盖结果的内存布局。<br>subok ： bool，可选。True：使用a的内部数据类型，False：使用a数组的数据类型，默认为True</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b=np.array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line"> [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"> <span class="built_in">print</span>(np.ones_like(b))</span><br></pre></td></tr></table></figure><p>full创建指定值的数组与one类似只是能只能参数了例：<br>np.full(3,520) 返回 [520 520 520]<br>np.full((2,4),520)<br>使用random模块生成随机数组<br>import random<br>np.random.randn(d0,d1,…..,dn)<br>传1个数就是一维，2个数就是二维，n个数就是n维<br>例如：<br>a = np.random.randn() # 一个随机数<br>b = np.random.randn(3) # 3个数<br>c = np.random.randn(3,2) # 3行2列<br>d = np.random.randn(3,2,4) # 3块，每块是2行4列<br>需要四舍五入：<br>np.round(a,2) # 变量a，保留两位小数点<br>dtype给数据指定数据类型:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>),dtype=<span class="built_in">float</span>) <span class="comment"># 修改数据类型</span></span><br><span class="line">b = np.array(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>),dtype=<span class="string">&#x27;float32&#x27;</span>) <span class="comment"># 修改数据类型和位数</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(a.dtype)</span><br><span class="line"><span class="built_in">print</span>(b.dtype)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))</span><br></pre></td></tr></table></figure><h2 id="多维数组">多维数组</h2><p>一维数组的定义：当数组中每个元素都只带有一个下标时，称这样的数组为一维数组，一维数组实质上是一组相同类型数据的线性集合。<br>二维数组的定义：二维数组本质上是以数组作为数组元素的数组，即数组的数组<br>reshape不改值修改形状<br>能变成2行5列，就能变回1行10个元素，想让他变成一维就给它传一个数，这个数必需是这个数组所有<br>值的全部个数。<br>a.reshape(1,10) 绝不等于 a.reshape(10) a.reshape(1,10)输出值为[[1,2,3,4,5,6,7,8,9,10]] 形状为(1,10)二维；而a.reshape(10)输出为[1,2,3,4,5,6,7,8,9,10]形状为(10,)一维<br>但是如果我不清楚这个数组中有多少个数，但是仍然想转成一维<br>a.flatten()<br>作用：将一个多维数组展开变成一个一维数组<br>注意区别：<br>shape：返回数组的维度<br>reshape:不改变数组的值，修改形状</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">5</span>) <span class="comment"># 变成2行5列</span></span><br><span class="line">b = a.reshape(<span class="number">10</span>) <span class="comment"># 变回1行1列</span></span><br><span class="line">c = a.flatten() <span class="comment"># 不清楚对方什么阵型，直接转一维</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure><h2 id="数组计算">数组计算</h2><p>凡是形状一样的数组，假设数组a和数组b，可以直接用a+b 或 a-b<br>a+b 对应位置的数字进行计算（加减乘除）也就是一维和多维数组是可以计算的，只要它们在某一维度上是一样的形状，仍然是按位置计算。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">6</span>)</span><br><span class="line">b = np.arange(<span class="number">24</span>).reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(b-a)</span><br></pre></td></tr></table></figure><p>结果为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"> [<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span>]</span><br><span class="line"> [<span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]]</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">6</span>  <span class="number">6</span>  <span class="number">6</span>  <span class="number">6</span>  <span class="number">6</span>]</span><br><span class="line"> [<span class="number">12</span> <span class="number">12</span> <span class="number">12</span> <span class="number">12</span> <span class="number">12</span> <span class="number">12</span>]</span><br><span class="line"> [<span class="number">18</span> <span class="number">18</span> <span class="number">18</span> <span class="number">18</span> <span class="number">18</span> <span class="number">18</span>]]</span><br></pre></td></tr></table></figure><h2 id="广播规则">广播规则</h2><p>广播的原则:<br>如果两个数组的后缘维度（trailing dimension，即从末尾开始算起的维度）的轴长度相符，或其中的一方的长度为1，则认为它们是广播兼容的。广播会在缺失和（或）长度为1的维度上进行。<br>这句话乃是理解广播的核心。广播主要发生在两种情况，一种是两个数组的维数不相等，但是它们的后缘维度的轴长相符，另外一种是有一方的长度为1<br>上例中x的shape为（4,3），y的shape为（3，）。可以说x是二维的，而y是一维的。但是它们的后缘维度相等，x的第二维长度为3，和y的维度相同。x和y的shape并不一样，但是它们可以执行相加操作，这就是通过广播完成的。<br>从上面的图可以看到，（3,4,2）和（4,2）的维度是不相同的，前者为3维，后者为2维。但是它们后缘维度的轴长相同，都为（4,2）。同样，还有一些例<br>子：（4,2,3）和（2,3）是兼容的，（4,2,3）还和（3）是兼容的，后者需要在两个轴上面进行扩展。<br>这部分可以看pdf</p><h2 id="基础索引与切片">基础索引与切片</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line">a = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">3</span>],a[<span class="number">5</span>],a[-<span class="number">1</span>]) <span class="comment"># 返回 3 5 9</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>:<span class="number">4</span>]) <span class="comment"># 返回 array([2, 3])</span></span><br></pre></td></tr></table></figure><p>语法：序列[开始位置下标：结束位置下标：步长]<br>步长是选取间隔，正负整数均可，默认为1;不包结束位置下标对应的数据，正负整数均可<br>A[0,0] # 取数组A的0行0列，返回值0<br>A[-1,2] # 取最后一行的第2列，返回值17<br>A[2] # 取第2行所有的列，返回array([10, 11, 12, 13, 14])<br>A[-1] # 取最后1行<br>A[0:-1] # 取除了最后1行之外其它所有行<br>A[0:2,2:4] #取0和1行，2和3列<br>A[:,2] # 取所有行中的第2列<br>三、切片修改（注意：会修改原来的数组）<br>由于Numpy经常处理大数组，避免每次都复制，所以切片修改时直接修改了数组<br>a[4:6] = 520 # 返回array([ 0, 1, 2, 3, 520, 520, 6, 7, 8, 9])<br>A[:1,:2]=520 # 修改0行1列的两个值</p><h2 id="布尔索引">布尔索引</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">数组 = np.arange(<span class="number">1</span>,<span class="number">21</span>).reshape(<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(数组)</span><br><span class="line">筛选 = 数组&gt;<span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(筛选) <span class="comment"># 返回一个布尔数组，即有行又有列</span></span><br><span class="line"><span class="built_in">print</span>(数组[筛选]) <span class="comment"># 返回所有为True的对应数字组成的数组，以一维数组展现</span></span><br></pre></td></tr></table></figure><p>在，<code>筛选 = 数组&gt;10</code> 中先把数组赋给筛选然后用比较运算符&gt;大于 - 返回x是否大于y (a &gt; b) 返回 False。</p><h2 id="神奇索引">神奇索引</h2><p>读取 = 数组[[1,5,7,2],[0,3,1,2]] # 取第1行第0列，第5行第3列，第7行第1列，第2行第2列<br>print(数组[:,[1,2]]) # 取所有行的，第1列和第2列<br>实例：获取数组中最大的前N个数字</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">数组 = np.random.randint(<span class="number">1</span>,<span class="number">100</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(数组)</span><br><span class="line"><span class="comment"># 数组.argsort()会返回排序后的下标</span></span><br><span class="line"><span class="comment"># 取最大值对应的3个下标，因为默认升序，所以要用-3,从倒数第3个到最后一个</span></span><br><span class="line">下标 = 数组.argsort()[-<span class="number">3</span>:]</span><br><span class="line"><span class="built_in">print</span>(下标) <span class="comment"># 返回的是最大3个数在数组中的下标</span></span><br><span class="line"><span class="comment"># 将下标传给数组</span></span><br><span class="line">最大 = 数组[下标]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;最大的三个数是<span class="subst">&#123;最大&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p>代码中numpy.random.randint(low, high=None, size=None, dtype='l')<br>low: int<br>生成的数值最低要大于等于low。<br>（hign = None时，生成的数值要在[0, low)区间内）<br>high: int (可选)<br>如果使用这个值，则生成的数值在[low, high)区间。<br>size: int or tuple of ints(可选)<br>输出随机数的尺寸，比如size = n则输出总共n个随机数。默认是None的，仅仅返回满足要求的单一随机数。<br>dtype: dtype(可选)：想要输出的格式。如int64、int等等</p><h2 id="numpy的轴">Numpy的轴</h2><p>可以看到轴编号和shape元组的索引是对等的，所以这个编号可以理解为高维nd.array.shape产生的元组的索引<br>我们知道shape（4,3,2）表示数组的维度，既然shape的索引可以看做轴编号，那么一条轴其实就是一个维度<br>0轴对应的是最高维度3维，1轴对应2维，2轴对应的就是最低维度的1维<br>总结：凡是提到轴，先看数组的维度，有几维就有几个轴</p><h2 id="沿轴切片">沿轴切片</h2><p>以下是二维数组，数组的维度是（3，3），这个元组的索引是 [0,1]，表示这个2维数组有两条轴：0轴和1轴</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">数组=np.array([ [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] , [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>] , [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>] ])</span><br><span class="line"><span class="built_in">print</span>(数组)</span><br><span class="line"><span class="built_in">print</span>(数组.shape)</span><br></pre></td></tr></table></figure><p>print(数组[0:2])<br>这里有个很重要的概念， :2 是切片的第一个参数，约定俗成第一个参数就代表0轴 0轴表示2维，所以这个切片是在2维这个维度上切的，又叫“沿0轴切”。<br>这个2维数据是由3个1维数组组成的，这3个1维数组当然也有索引号也是[0,1,2]，[ :2 ] 就表示它要切取2维（0轴）上3个1维数组中的索引 [ 0 ] 和索引<br>[ 1 ] ，于是得到 ([ 1, 2, 3 ]) 和 ([ 4, 5, 6 ]) 这两个1维数组。<br>print(数组[:2,1:])<br>就是在两个维度（轴）上各切一刀，第1个参数就是2维（0轴）， :2 表示切取2维（0轴）上的索引 [ 0 ] 和索引 [ 1 ] ，即 ([ 1, 2, 3 ]) 和 ([ 4, 5, 6 ]) 这两个1维数组<br>第2个参数就是1维（1轴），1: 表示切取1维（1轴）上的索引 [ 1 ] 和索引 [ 2 ] ，即对数组 ([ 1, 2, 3 ]) 取 ([ 2,3 ]) ，对数组 ([ 4, 5, 6 ]) 取 ([ 5,6 ])<br>矩阵转置 transpose行列转置和swapaxes轴转置</p><h2 id="随机数">随机数</h2><p>seed 向随机数生成器传递随机状态种子：只要random.seed( * ) seed里面的值一样，那随机出来的结果就一样。所以说，seed的作用是让随机结果可重现。也就是说当我们设置相同的seed，每次生成的随机数相同。如果不设置seed，则每次会生成不同的随机数。使用同一个种子，每次生成的随机数序列都是相同的，也就是说重复运行程序生成的随机数仍然是相同的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.seed(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(random.random()) <span class="comment"># random.random()用来随机生成一个0到1之间的浮点数，包括零。</span></span><br><span class="line"><span class="built_in">print</span>(random.random())</span><br><span class="line"><span class="built_in">print</span>(random.random()) <span class="comment"># 这里没有设置种子，随机数就不一样了</span></span><br></pre></td></tr></table></figure><p>rand()返回[0,1]之间，从均匀分布中抽取样本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">一维 = np.random.rand(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(一维)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line">二维 = np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(二维)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line">三维 = np.random.rand(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(三维)</span><br></pre></td></tr></table></figure><p>我们数据分析的三部曲：Numpy、Pandas、matplotlib，后期我们在使用matplotlib画图时会用到<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/503555444">均匀分布</a><br>Numpy linspace函数依照定义间隔生成均匀分布的数值。我们使用start和stop参数指定间隔，这里我们设定为0和100，同时指定在范围内生产5个观测值，因此函数生成5个均匀分布的元素。第一个是0，最后一个100，其他三个分布在0和100之间<br>绘制函数时，最后一个参数时隔取点绘制函数，影响函数的平滑</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 绘制正弦曲线</span></span><br><span class="line">x轴 = np.linspace(-<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>) <span class="comment"># 在[-10,10]闭区间或半闭区间中，数量为100</span></span><br><span class="line">y轴 = np.sin(x轴) <span class="comment"># sin正弦、cos余弦</span></span><br><span class="line">plt.plot(x轴,y轴)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>加入噪声np.random.rand(len(x轴))</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 绘制正弦曲线</span></span><br><span class="line">x轴 = np.linspace(-<span class="number">10</span>,<span class="number">10</span>,<span class="number">100</span>) <span class="comment"># 在[-10,10]闭区间中，数量为100</span></span><br><span class="line">y轴 = np.sin(x轴) + np.random.rand(<span class="built_in">len</span>(x轴)) <span class="comment"># 生成均匀分布，len(x轴)就是维度，相加就是定义元素的相加</span></span><br><span class="line">plt.plot(x轴,y轴)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>randn 返回标准正态分布随机数（浮点数）平均数0，方差1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">一维 = np.random.randn(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(一维)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line">二维 = np.random.randn(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(二维)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line">三维 = np.random.randn(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(三维)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br></pre></td></tr></table></figure><p>choice 从一维数组中生成随机数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 第一参数是一个1维数组，如果只有一个数字那就看成range(5)</span></span><br><span class="line"><span class="comment"># 第二参数是维度和元素个数，一个数字是1维，数字是几就是几个元素</span></span><br><span class="line">a = np.random.choice(<span class="number">5</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;从range(5)中拿随机数，生成只有3个元素的一维数组是：<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line">shuffle(数组)把一个数进行随机排列  </span><br><span class="line">使用Numpy数组可以使你利用简单的数组表达式完成多种数据操作任务，而无须写大量的循环，这种利用数组表达式来替代循环的方法，称向量化。</span><br><span class="line">通常，向量化的数组操作会比纯Python的等价实现在速度上快一到两个数量级（甚至更多）</span><br></pre></td></tr></table></figure><h2 id="数学和统计方法">数学和统计方法</h2><p>方法 描述<br>sum 沿着轴向计算所有元素的累和，0长度的数组累和为0<br>average 加权平均，参数可以指定weights<br>prod 所有元素的乘积<br>mean 数学平均，0长度的数组平均值为NaN<br>std,var 标准差和方差，可以选择自由度调整（默认分母是n）<br>min,max 最小和最大值<br>argmin,argmax 最小和最大值的位置<br>cumsum 从0开始元素累积和<br>cumprod 从1开始元素累积积<br>median 中位数<br>prercentile 0-100百分位数<br>quantile 0-1分位数</p><h3 id="一维数组">一维数组</h3><p>众数：出现次数最多的那个数<br>沿轴向进行计算，一维数组只有一个0轴<br>numpy.bincount函数是统计列表中元素出现的个数在机器学习中用到的很广泛，（机器学习和深度学习基本上以矩阵为主，尤其是K临近算法有时要添加权重改善分类或回归的精度）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组：<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.prod(a))</span><br><span class="line"><span class="built_in">print</span>(np.cumsum(a)) <span class="comment"># 从0开始元素的累积和</span></span><br><span class="line"><span class="built_in">print</span>(np.cumprod(a)) <span class="comment"># 从1开始元素的累积积</span></span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">max</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">min</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.argmax(a)) <span class="comment"># 最大值所在的下标</span></span><br><span class="line"><span class="built_in">print</span>(np.argmin(a)) <span class="comment"># 最小值所在的下标</span></span><br><span class="line"><span class="built_in">print</span>(np.mean(a)) <span class="comment"># 平均数</span></span><br><span class="line"><span class="built_in">print</span>(np.median(a)) <span class="comment"># 中位数</span></span><br><span class="line"><span class="built_in">print</span>(np.average(a)) <span class="comment"># 加权平均</span></span><br><span class="line">counts = np.bincount(a) <span class="comment"># 统计元素出现的个数，不能统计浮点数</span></span><br><span class="line"><span class="built_in">print</span>(np.argmax(counts)) <span class="comment"># 返回众数,此方法不能用于二维数组</span></span><br></pre></td></tr></table></figure><h3 id="二维数组">二维数组</h3><p>关于numpy.cumsum()在官网中官方给了一个很好的例子。<br>在这里插入图片描述<br>cumsum的作用主要就是计算轴向的累加和。</p><p>里面最重要的参数就是axis</p><p>当里面的参数axis没有值时，默认是一个一维数组进行加和，即<br>a=np.array([[1,2,3],[4,5,6]])<br>np.cumsum()<br>输出1,3,6,10,15,21<br>即1,1+2,1+2+3,1+2+3+4,1+2+3+4+5,1+2+3+4+5+6</p><p>np.cumsum(axis=0)，按行累加<br>输出<br>array([[1, 2, 3],<br>[5, 7, 9]], dtype=int32)<br>5=1+4,7=2+5,9=3+6</p><p>np.cumsum(axis=1)，按列累加<br>输出<br>array([[ 1, 3, 6],<br>[ 4, 9, 15]], dtype=int32)<br>3=1+2，6=1+2+3<br>9=4+5，15=4+5+6</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> stats</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>],[<span class="number">9</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组：\n<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.prod(a))</span><br><span class="line"><span class="built_in">print</span>(np.cumsum(a)) <span class="comment"># 从0开始元素的累积和，返回一维数组</span></span><br><span class="line"><span class="built_in">print</span>(np.cumprod(a)) <span class="comment"># 从1开始元素的累积积，返回一维数组</span></span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">max</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">min</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.argmax(a)) </span><br><span class="line"><span class="built_in">print</span>(np.argmin(a)) </span><br><span class="line"><span class="built_in">print</span>(np.mean(a)) </span><br><span class="line"><span class="built_in">print</span>(np.median(a)) </span><br><span class="line"><span class="built_in">print</span>(np.average(a))</span><br></pre></td></tr></table></figure><p>数组的众数不建议在Numpy里面计算，在Pandas里面计算更简单。将一维数组转成Pandas的Series,然后调用mode()方法，有待研究</p><h3 id="numpy的axis参数的用途">Numpy的axis参数的用途</h3><p>axis=0代表行，axis=1代表列<br>所有的数学和统计函数都有这个参数，都可以使用我们想按行或按列使用时使用这个参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>],[<span class="number">9</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组:\n<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(a,axis=<span class="number">0</span>)) <span class="comment"># 每行中的每个对应元素相加，返回一维数组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">sum</span>(a,axis=<span class="number">1</span>)) <span class="comment"># 每列中的每个元素相加，返回一维数组</span></span><br></pre></td></tr></table></figure><p>其中思路正好是反的：axis=0 求每列的和。axis=1求每行的和。<br>数组对应到现实中的一种解释：</p><ol><li>行：每行对应一个样本数据</li><li>列：每列代表样本的一个特征<br>数据标准化：<br>• 对于机器学习、神经网络来说，不同列的量纲是相同的，收敛更快。<br>• 有两个特征，一个是商品单价1元至50元，另一个是销售数量3千个至1万个，这两个数字不可比，所以需要都做标准化。<br>• 比如在Excel里，单价一个列，销售数量一个列，不同列代表不同特征，所以用axis=0做计算<br>• 标准化一般使用：通过均值和方差实现<br>数组 = （数组 - mean(数组，axis=0)）/ std(数组, axis=0)</li></ol><h3 id="将条件逻辑作为数组操作">将条件逻辑作为数组操作</h3><p>numpy.where调用方式为numpy.where(condition,1,2)，满足条件的位置上返回结果赋值为1，不满足的位置上返回结果赋值为2</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>],[<span class="number">9</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组:\n<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(a&gt;<span class="number">3</span>)<span class="comment">#TURE OR FALSE</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(np.where(a&gt;<span class="number">3</span>,<span class="number">520</span>,<span class="number">1314</span>))</span><br></pre></td></tr></table></figure><h3 id="布尔值数组方法">布尔值数组方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>],[<span class="number">9</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组:\n<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>((a&gt;<span class="number">3</span>).<span class="built_in">sum</span>()) <span class="comment"># 数组中大于3的数有多少个</span></span><br></pre></td></tr></table></figure><p>对于布尔值数组，有两个常用方法any和all。<br>any：检查数组中是否至少有一个True<br>all：检查是否每个值都是True</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">True</span>,<span class="literal">False</span>])</span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">any</span>()) <span class="comment">#TRUE</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">all</span>()) <span class="comment">#FALSE</span></span><br></pre></td></tr></table></figure><h3 id="按值大小排序-sort">按值大小排序 sort</h3><p>ndarray.sort(axis=-1, kind='quicksort', order=None)<br>axis<br>排序沿数组的（轴）方向，0表示按行，1表示按列，N0表示展开来排序，默认值为-1，表示沿最后的轴排序<br>kind<br>排序的算法，提供了快排'quicksort'、混排'mergesort、堆排heapsort',默认为quicksort'<br>order<br>排序的字段名，可指定字段排序，默认为None<br>一维数组：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">4</span>]) <span class="comment">#默认升序</span></span><br><span class="line">a.sort()</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure><p>二维数组：<br>二维数组按列排序就是按照1轴排序，对二维数组中的每一行一维数据而言默认升序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">0</span>,<span class="number">12</span>,<span class="number">48</span>],[<span class="number">4</span>,<span class="number">18</span>,<span class="number">14</span>],[<span class="number">7</span>,<span class="number">1</span>,<span class="number">99</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组：\n<span class="subst">&#123;a&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(np.sort(a)) <span class="comment"># 默认按最后的轴排序，就是（行，列）（0，1）</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(np.sort(a,axis=<span class="number">0</span>)) <span class="comment"># 按行排序</span></span><br></pre></td></tr></table></figure><h3 id="从大到小的索引-argsort">从大到小的索引 argsort</h3><p>numpy.argsort(a, axis=-1, kind='quicksort', order=None)<br>对数组沿给定轴执行间接排序，并使用指定排序类型返回数据的索引数组。 这个索引数组用于构造排序后的数组。<br>参数类似于sort()<br>一维数组：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.array([<span class="number">59</span>, <span class="number">29</span>, <span class="number">39</span>])</span><br><span class="line">a = np.argsort(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;索引升序：<span class="subst">&#123;a&#125;</span>&#x27;</span>) <span class="comment"># 升序</span></span><br><span class="line"><span class="comment"># argsort函数返回的是数组值从小到大的索引值,[3, 1, 2]从小到大为[1，2，3],期对应的索引为[1，2，0]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组升序：<span class="subst">&#123;x[a]&#125;</span>&#x27;</span>) <span class="comment"># 以排序后的顺序重构原数组</span></span><br><span class="line">b = np.argsort(-x) <span class="comment"># 降序</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;索引降序：<span class="subst">&#123;b&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;数组升序：<span class="subst">&#123;x[b]&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p>二维数组：<br><a target="_blank" rel="noopener" href="https://geek-docs.com/numpy/python-numpy-indexing/numpy-take-python.html">np.take的用法</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.array([[<span class="number">0</span>, <span class="number">12</span>, <span class="number">48</span>], [<span class="number">4</span>, <span class="number">18</span>, <span class="number">14</span>], [<span class="number">7</span>, <span class="number">1</span>, <span class="number">99</span>]])</span><br><span class="line">a1 = np.argsort(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;索引排序：\n<span class="subst">&#123;a1&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="comment"># 以排序后的顺序重构原数组，注意与一维数组的形式不一样</span></span><br><span class="line"><span class="built_in">print</span>(np.array([np.take(x[i], x[i].argsort()) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]))</span><br></pre></td></tr></table></figure><p>由于对列的索引排序所以take中的第一个参数不变</p><h2 id="根据键值的字典序进行排序-lexsort">根据键值的字典序进行排序 lexsort</h2><p>lexsort(keys, axis=-1)<br>lexsort()根据键值的字典序进行排序，支持对数组按指定行或列的顺序排序，间接排序，不修改原数组，返回索引。一般对一维数组使用argsort()。<br>默认按最后一行元素有小到大排序, 返回最后一行元素排序后索引所在位置。</p><h2 id="唯一值与其它集合逻辑-unique和in1d">唯一值与其它集合逻辑 unique和in1d</h2><p>去重复：<br>unique(x) 计算x的唯一值，并排序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">姓名 = np.array([<span class="string">&#x27;孙悟空&#x27;</span>,<span class="string">&#x27;猪八戒&#x27;</span>,<span class="string">&#x27;孙悟空&#x27;</span>,<span class="string">&#x27;沙和尚&#x27;</span>,<span class="string">&#x27;孙悟空&#x27;</span>,<span class="string">&#x27;唐僧&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(np.unique(姓名))</span><br><span class="line">数组 = np.array([<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line"><span class="built_in">print</span>(np.unique(数组))</span><br></pre></td></tr></table></figure><p>检查一个数组中的值是否在另外一个数组中，并返回一个布尔数组：<br>in1d(x,y) 计算x中的元素是否包含在y中，返回一个布尔值数组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">6</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line"><span class="built_in">print</span>(np.in1d(a,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>]))</span><br></pre></td></tr></table></figure><h2 id="浅拷贝与深拷贝">浅拷贝与深拷贝</h2><p>浅拷贝<br>a=b 不能这样赋值，因为a和b相互影响，在内存里a变了b也会发生变化<br>a=b[:] 视图操作，一种切片，会创建新的对象a，但是a的数据完全由b保管，他们两个的数据变化是一致的<br>深拷贝<br>a=b.copy() 复制，a和b互不影响，相当于是重新开辟了一个空间保存b的值，然后让a指向b.copy()</p><h1 id="pandas">Pandas</h1><p>RT</p><h2 id="数据类型与新建文件">数据类型与新建文件</h2><p>数据类型 说明 新建方法<br>csv、tsv、txt 用逗号分隔、tab分割的纯文本文件 pd.to_csv<br>excel xls或xlsx pd.to_excel<br>mysql 关系数据库表 pd.to_sq<br>一、新建空白Excel文件:<br>报错：ModuleNotFoundError: No module named 'openpyxl'使用pip list发现没有openpyxl包安装后无错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">路径 = <span class="string">&#x27;D:\python-learn\新建空白文件.xlsx&#x27;</span> </span><br><span class="line">数据=pd.DataFrame( ) </span><br><span class="line">数据.to_excel(路径) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;新建空白文件.xlsx成功&#x27;</span>)</span><br></pre></td></tr></table></figure><p>注意xlsx文件打开后不可写Permission denied: 'd:/python-learn/新建空白文件.xlsx'<br>二、新建文件同时写入数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;D:\python-learn\新建空白文件.xlsx&#x27;</span></span><br><span class="line">数据=pd.DataFrame(&#123;<span class="string">&#x27;id&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">&#x27;姓名&#x27;</span>:[<span class="string">&#x27;叶问&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>,<span class="string">&#x27;孙兴华&#x27;</span>]&#125;)</span><br><span class="line">数据.to_excel(路径)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;新建空白文件.xlsx成功&#x27;</span>)</span><br></pre></td></tr></table></figure><p>三、将id设置为索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;D:\python-learn\新建空白文件.xlsx&#x27;</span></span><br><span class="line">数据=pd.DataFrame(&#123;<span class="string">&#x27;id&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">&#x27;姓名&#x27;</span>:[<span class="string">&#x27;叶问&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>,<span class="string">&#x27;孙兴华&#x27;</span>]&#125;) <span class="comment"># 写入的数据</span></span><br><span class="line">数据=数据.set_index(<span class="string">&#x27;id&#x27;</span>) <span class="comment"># 将id设置为索引</span></span><br><span class="line">数据.to_excel(路径) <span class="comment"># 将数据写入Excel文件</span></span><br><span class="line"><span class="built_in">print</span>(数据)</span><br></pre></td></tr></table></figure><h2 id="读取数据">读取数据</h2><p>数据类型 说明 读取方法<br>csv、tsv、txt 默认英文逗号分隔 pd.read_csv<br>csv、tsv、txt 默认\t分隔 pd.read_table<br>excel xls或xlsx pd.read_excel<br>mysql 关系数据库表 pd.read_sql<br>体验两种方法的区别，与sep指定分隔符切记：如果分隔符不止一种，使用正则表达式sep='\s+'，一般使用CSV文件存储大数据，匹配空白字符(包括空格、换行符、制表符等)，也就是说既有空白字符又有\t分隔符可以用<code>pd.read_table(路径，sep='\s+')</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line">路径 = <span class="string">&#x27;D:\python-learn\读取数据.txt&#x27;</span> </span><br><span class="line">读取数据 = pd.read_csv(路径) </span><br><span class="line"><span class="built_in">print</span>(读取数据)</span><br></pre></td></tr></table></figure><p>二、查看前几行数据<br>print(读取数据.head()) # 默认是5行，指定行数写小括号里<br>三、查看数据的形状，返回（行数、列数）<br>print(读取数据.shape)<br>四、 查看列名列表<br>print(读取数据.columns)<br>五、查看索引列<br>print(读取数据.index)<br>六、查看每一列数据类型<br>print(读取数据.dtypes)</p><h3 id="自己制定分隔符-列名-自定义表头">自己制定分隔符、列名,自定义表头</h3><p><code>读取数据 = pd.read_csv(路径,sep=',',header=None,names=['姓名','年龄','地址','电话','入职日期'],encoding='utf-8',index_col='入职日期')</code><br>sep参数：英文逗号或&quot;\t&quot;,从文件、url、文件型对象中加载带分隔符的数据，默认为'\t'。（read_csv默认分隔符是逗号）,可以通过制定sep 参数来修改默认分隔符<br>header参数：读取没有标题的文件时，默认为第一行作为列标题,设置header=None,意思就是没有表头，后面你自己写表头<br>names参数：通过names=['a','b','c']可以自己设置列标题。<br>参数 描述<br>sep 分隔符或正则表达式 sep='\s+' 注意如果数据中既有英文也有中文逗号可以sep='，'<br>header 列名的行号，默认0（第一行），如果没有列名应该为None<br>names 列名，与header=None一起使用，自定义表头名称<br>index_col 索引的列号或列名，可以是一个单一的名称或数字，也可以是一个分层索引<br>skiprows 从文件开始处，需要跳过的行数或行号列表<br>encoding 文本编码，例如utf-8<br>nrows 从文件开头处读入的行数 nrows=3</p><h3 id="txt文件转csv文件">txt文件转csv文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据 = pd.read_csv(<span class="string">&#x27;D:\python-learn\读取数据.txt&#x27;</span>)</span><br><span class="line">数据.to_csv(<span class="string">&#x27;D:\python-learn\读取数据.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(数据)</span><br></pre></td></tr></table></figure><h3 id="读取mysql数据库">读取MySQL数据库</h3><p>补充SQL in Python 之 PyMysql</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">连接对象 = pymysql.connect(host = <span class="string">&#x27;localhost&#x27;</span>,user = <span class="string">&#x27;root&#x27;</span>,password = <span class="string">&#x27;1234&#x27;</span>,database = <span class="string">&#x27;test&#x27;</span>,charset = <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">读取文件 = pd.read_sql(<span class="string">&quot;select * from 1班&quot;</span>,con=连接对象)<span class="comment">#第1个参数是SQL查询语句，第2参数是数据库连接</span></span><br><span class="line"><span class="built_in">print</span>(读取文件)</span><br></pre></td></tr></table></figure><h3 id="读取excel文件">读取Excel文件</h3><p>读取Excel并添加自定义表头</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;D:\python-learn\工作簿.xlsx&#x27;</span></span><br><span class="line">读取数据=pd.read_excel(路径,header=<span class="literal">None</span>,names=[<span class="string">&#x27;序号&#x27;</span>,<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;年龄&#x27;</span>,<span class="string">&#x27;手机&#x27;</span>,<span class="string">&#x27;地址&#x27;</span>,<span class="string">&#x27;入职日期&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(读取数据)</span><br></pre></td></tr></table></figure><p>to_excel可用于写入文件<code>xxx.to_excel(excel1.xlsx, sheet_name='Sheet1', index=False)</code>注意第一个参数别加引号,参数设置的不好会破坏原来的文件 # index false为不写入索引，关闭文档再调用否则没权限；index_col='序号'可用于添加序号</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;D:\python-learn\工作簿.xlsx&#x27;</span></span><br><span class="line">读取数据 = pd.read_excel(路径,header=<span class="number">0</span>,index_col=<span class="string">&#x27;序号&#x27;</span>)</span><br><span class="line">读取数据.columns=[<span class="string">&#x27;序号&#x27;</span>,<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;年龄&#x27;</span>,<span class="string">&#x27;地址&#x27;</span>,<span class="string">&#x27;电话&#x27;</span>,<span class="string">&#x27;入职日期&#x27;</span>] <span class="comment"># 给每个列重复设置表头</span></span><br><span class="line">读取数据=读取数据.set_index(<span class="string">&#x27;序号&#x27;</span>,inplace=<span class="literal">True</span>) <span class="comment"># 只在index上面改,不要生成新的</span></span><br><span class="line"><span class="built_in">print</span>(读取数据.columns) <span class="comment"># 查看列名列表，index和columns是分开的</span></span><br><span class="line"><span class="built_in">print</span>(读取数据)</span><br><span class="line">读取数据.to_excel(<span class="string">&#x27;路径&#x27;</span>) <span class="comment"># 写入到Excel文件</span></span><br></pre></td></tr></table></figure><p>二、查看前几行数据<br>print(读取数据.head()) # 默认是5行，指定行数写小括号里<br>三、查看数据的形状，返回（行数、列数）<br>print(读取数据.shape)<br>四、 查看列名列表<br>print(读取数据.columns)<br>五、查看索引列<br>print(读取数据.index)<br>六、查看每一列数据类型<br>print(读取数据.dtypes)<br>七、自己设置并写入表头【第一种方法】<br>import pandas as pd<br>路径 = 'c:/pandas/读取文件.xlsx'<br>读取数据 = pd.read_excel(路径,header=None)<br>读取数据.columns=['序号','姓名','年龄','地址','电话','入职日期'] # 给每个列重复设置表头<br>读取数据=读取数据.set_index('序号') # 重新指定索引列<br>print(读取数据.columns) # 查看列名列表<br>读取数据.to_excel('路径') # 写入到Excel文件<br>八、自己设置并写入表头【第二种方法】<br>import pandas as pd<br>路径 = 'c:/pandas/读取文件.xlsx'<br>读取数据 = pd.read_excel(路径,header=None,index_col='序号')<br>读取数据.columns=['序号','姓名','年龄','地址','电话','入职日期'] # 给每个列重复设置表头<br>读取数据=读取数据.set_index('序号',inplace=True) # 只在index上面改,不要生成新的<br>print(读取数据.columns) # 查看列名列表，index和columns是分开的<br>读取数据.to_excel('路径') # 写入到Excel文件<br>孙兴华推荐方法：<br>import pandas as pd<br>路径 = 'c:/pandas/读取文件.xlsx'<br>读取数据 = pd.read_excel(路径,header=None,names=['序号','姓名','年龄','手机','地址','入职日期'], index_col='序号')<br>默认第0行为标题行<br>如果自己设置表头，这里要设置无表头<br>指定哪列是index<br>2.3 读取Excel文件<br>2020年4月2日 23:13<br>分区 基础 的第 10 页<br>读取数据 = pd.read_excel(路径,header=None,names=['序号','姓名','年龄','手机','地址','入职日期'], index_col='序号')<br>print(读取数据)<br>读取数据.to_excel(路径)</p><h2 id="pandas数据结构">pandas数据结构</h2><p>DataFrame：二维数据，整个表格，多行多列简称df<br>df.index：索引列<br>df.columns：列名<br>Series：一维数据，一行或一列<br>Series是一种类似于一维数组的对象，它由一组数据（不同数据类型）以及一组与之相关的数据标签（即索引）组成。</p><h3 id="仅有数据列表即可产生最简单的series">仅有数据列表即可产生最简单的Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据= pd.Series([<span class="number">520</span>,<span class="string">&#x27;孙兴华&#x27;</span>,<span class="number">1314</span>,<span class="string">&#x27;2020-07-30&#x27;</span>]) <span class="comment"># 左侧是索引，右侧是数据</span></span><br><span class="line"><span class="built_in">print</span>(数据)</span><br><span class="line"><span class="built_in">print</span>(数据.index) <span class="comment"># 获取索引，返回索引的（起始值，结束值，步长）RangeIndex(start=0, stop=4, step=1)</span></span><br><span class="line"><span class="built_in">print</span>(数据.values) <span class="comment"># 获取数据，返回值序列，打印元素值的列表 [520 &#x27;孙兴华&#x27; 1314 &#x27;2020-07-30&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="我们指定series的索引">我们指定Series的索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据= pd.Series([<span class="number">520</span>,<span class="string">&#x27;孙兴华&#x27;</span>,<span class="number">1314</span>,<span class="string">&#x27;2020-07-30&#x27;</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>]) <span class="comment"># 指定索引</span></span><br><span class="line"><span class="built_in">print</span>(数据)</span><br><span class="line"><span class="built_in">print</span>(数据.index) <span class="comment"># 返回指定的索引 Index([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;], dtype=&#x27;object&#x27;)</span></span><br></pre></td></tr></table></figure><h3 id="使用python字典创建series">使用Python字典创建Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">字典=&#123;<span class="string">&#x27;姓名&#x27;</span>:<span class="string">&#x27;孙兴华&#x27;</span>,<span class="string">&#x27;性别&#x27;</span>:<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;年龄&#x27;</span>:<span class="string">&#x27;20&#x27;</span>,<span class="string">&#x27;地址&#x27;</span>:<span class="string">&#x27;花果山水帘洞&#x27;</span>&#125; </span><br><span class="line">数据=pd.Series(字典)</span><br><span class="line"><span class="built_in">print</span>(数据)</span><br><span class="line"><span class="built_in">print</span>(数据.index) <span class="comment"># 返回key Index([&#x27;姓名&#x27;, &#x27;性别&#x27;, &#x27;年龄&#x27;, &#x27;地址&#x27;], dtype=&#x27;object&#x27;)</span></span><br></pre></td></tr></table></figure><p>print(数据) # 查询整个字典<br>print(数据['姓名']) # 通过key可以查对应的值<br>type(数据['年龄']) # 通过key可以查对应值的类型<br>print(数据[['姓名','年龄']]) # 通过多个key查对应的值 #姓名 孙兴华<br>年龄 20<br>type(数据[['姓名','年龄']]) # 注意：他不返回值的类型，而返回Series</p><h3 id="键和值存在两个列表中-创建series">键和值存在两个列表中，创建Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">列表<span class="number">1</span> = [<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;年龄&#x27;</span>]</span><br><span class="line">列表<span class="number">2</span> = [<span class="string">&#x27;孙兴华&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">20</span>]</span><br><span class="line">数据 = pd.Series(列表<span class="number">2</span>,index=列表<span class="number">1</span>) <span class="comment"># 指定谁是索引</span></span><br><span class="line"><span class="built_in">print</span>(数据)</span><br></pre></td></tr></table></figure><p>Series只是一个序列，可能是一行，也可能是一列，现在无法确定用行的方法，把Series加入DataFrame，就是行，反之就是列。<br>常用方法<br>数据.index #查看索引<br>数据.values #查看数值<br>数据.isnull() #查看为空的，返回布尔型<br>数据.notnull()<br>数据.sort_index() #按索引排序<br>数据.sort_values() #按数值排序</p><h3 id="认识dataframe">认识DataFrame</h3><p>• 每列可以是不同的值类型（数值、字符串、布尔值等）<br>• 既有行索引index，也有列索引columns<br>• 可以被看做由Series组成的字典<br>DataFrame是一个表格型的数据结构<br>创建DataFrame最常用的方法，参考读取CSV、TXT、Excel、MySQL等<br>创建二维数组，列索引为a,b,c:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据=pd.DataFrame([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],columns=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(数据)</span><br><span class="line"><span class="built_in">print</span>(数据[<span class="string">&#x27;a&#x27;</span>][<span class="number">0</span>] ) <span class="comment">#a列0行</span></span><br><span class="line"><span class="built_in">print</span>(数据.loc[<span class="number">0</span>][<span class="string">&#x27;a&#x27;</span>] ) <span class="comment">#0行a列</span></span><br><span class="line"><span class="built_in">print</span>(数据.iloc[<span class="number">0</span>][<span class="number">0</span>] ) <span class="comment">#0行0列的位置</span></span><br><span class="line"><span class="built_in">print</span>(数据[[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]]) <span class="comment">#a,b列上的数据</span></span><br></pre></td></tr></table></figure><p>loc就根据这个index来索引对应的行。iloc并不是根据index来索引，而是根据行号来索引，行号从0开始，逐次加1。<br>a. 数据.loc方法：根据行，列的标签值查询<br>b. 数据.iloc方法：根据行，列的数字位置查询</p><h4 id="dataframe-整个表格">DataFrame 整个表格</h4><p>DataFrame是一个表格型的数据结构：<br>每列可以是不同的值类型（数值、字符串、布尔值等）<br>既有行索引index，也有列索引columns<br>可以被看做由Series组成的字典<br>创建DataFrame最常用的方法，参考读取CSV、TXT、Excel、MySQL等<br>多个字典序列创建DataFrame:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">字典 = &#123;</span><br><span class="line"> <span class="string">&#x27;姓名&#x27;</span>:[<span class="string">&#x27;孙兴华&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>,<span class="string">&#x27;叶问&#x27;</span>],</span><br><span class="line"> <span class="string">&#x27;年龄&#x27;</span>:[<span class="number">20</span>,<span class="number">80</span>,<span class="number">127</span>],</span><br><span class="line"> <span class="string">&#x27;功夫&#x27;</span>:[<span class="string">&#x27;撸铁&#x27;</span>,<span class="string">&#x27;截拳道&#x27;</span>,<span class="string">&#x27;咏春&#x27;</span>]</span><br><span class="line"> &#125;</span><br><span class="line">数据 = pd.DataFrame(字典)</span><br><span class="line"><span class="built_in">print</span>(数据)</span><br><span class="line"><span class="built_in">print</span>(数据.dtypes) <span class="comment"># 返回每一列的类型</span></span><br><span class="line"><span class="built_in">print</span>(数据.columns) <span class="comment"># 返回列索引，以列表形式返回：[列名1，列名2，…]</span></span><br><span class="line"><span class="built_in">print</span>(数据.index) <span class="comment"># 返回行索引，（起始，结束，步长）</span></span><br></pre></td></tr></table></figure><p>从DataFrame中查询出Series<br>print(数据['姓名']) # 返回索引和这一列数据<br>• 如果只查询一行，返回的是pd.Series<br>type(数据['姓名']) # 类型返回Series<br>print(数据.loc[1]) # 这时，它的索引是列名<br>• 如果查询多列，返回的是pd.DataFrame<br>type(df.loc[1]) # 类型返回Series<br>print(数据[['姓名','年龄']]) # 返回索引和这两列数据<br>• 如果查询多行，返回的是pd.DataFrame<br>type(数据[['姓名','年龄']]) # 类型返回DataFrame<br>print(数据.loc[1:3]) # 返回前3行，包括结束值<br>type(数据.loc[1:3]) # 类型返回DataFrame<br>将多个Series加入DataFrame: index=[1,2,3]意思是索引名为1,2,3且3个数据的index他有对齐的功能，例如把数据3的index改成2，3，4，没有值的地方会显示nan</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据<span class="number">1</span> = pd.Series([<span class="string">&#x27;叶问&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>,<span class="string">&#x27;孙兴华&#x27;</span>],index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],name=<span class="string">&#x27;姓名&#x27;</span>)</span><br><span class="line">数据<span class="number">2</span> = pd.Series([<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;男&#x27;</span>],index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],name=<span class="string">&#x27;性别&#x27;</span>)</span><br><span class="line">数据<span class="number">3</span> = pd.Series([<span class="number">127</span>,<span class="number">80</span>,<span class="number">20</span>],index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],name=<span class="string">&#x27;年龄&#x27;</span>)</span><br><span class="line">表<span class="number">1</span> = pd.DataFrame(&#123;数据<span class="number">1.</span>name:数据<span class="number">1</span>,数据<span class="number">2.</span>name:数据<span class="number">2</span>,数据<span class="number">3.</span>name:数据<span class="number">3</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(表<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h4 id="dataframe常用方法">DataFrame常用方法</h4><p>常用方法<br>数据.head( 5 ) #查看前5行<br>数据.tail( 3 ) #查看后3行<br>数据.values #查看数值<br>数据shape #查看行数、列数<br>数据.fillna(0) #将空值填充0<br>数据.replace( 1, -1) #将1替换成-1<br>数据.isnull() #查找数据中出现的空值<br>数据.notnull() #非空值<br>数据.dropna() #删除空值<br>数据.unique() #查看唯一值<br>数据.reset_index() #修改、删除，原有索引，详见例1<br>数据.columns #查看数据的列名<br>数据.index #查看索引<br>数据.sort_index() #索引排序<br>数据.sort_values() #值排序<br>pd.merge(数据1,数据1) #合并<br>pd.concat([数据1,数据2]) #合并，与merge的区别，自查<br>pd.pivot_table( 数据 ) #用df做数据透视表（类似于Excel的数透）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;d:/python-learn/分组2.xlsx&#x27;</span></span><br><span class="line">读取数据 = pd.read_excel(路径,header=<span class="literal">None</span>)</span><br><span class="line"><span class="built_in">print</span>(读取数据.reset_index(drop=<span class="literal">True</span>)) <span class="comment"># 索引被直接删除</span></span><br><span class="line"><span class="built_in">print</span>(读取数据.reset_index(drop=<span class="literal">False</span>)) <span class="comment"># 索引列会被还原为普通列</span></span><br></pre></td></tr></table></figure><h4 id="连接查询-数据合并与重塑">连接查询[数据合并与重塑]</h4><p>首先merge的操作非常类似sql里面的join，实现将两个Dataframe根据一些共有的列连接起来，当然，在实际场景中，这些共有列一般是Id，连接方式也丰富多样，可以选择inner(默认)，left,right,outer 这几种模式，分别对应的是内连接，左连接，右连接，全外连接</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">数据<span class="number">1</span>=pd.DataFrame(&#123;<span class="string">&#x27;姓名&#x27;</span>:[<span class="string">&#x27;叶问&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>,<span class="string">&#x27;孙兴华&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>,<span class="string">&#x27;叶问&#x27;</span>,<span class="string">&#x27;叶问&#x27;</span>],<span class="string">&#x27;出手次数1&#x27;</span>:np.arange(<span class="number">6</span>)&#125;)</span><br><span class="line">数据<span class="number">2</span>=pd.DataFrame(&#123;<span class="string">&#x27;姓名&#x27;</span>:[<span class="string">&#x27;黄飞鸿&#x27;</span>,<span class="string">&#x27;孙兴华&#x27;</span>,<span class="string">&#x27;李小龙&#x27;</span>],<span class="string">&#x27;出手次数2&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">30</span>*<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br><span class="line">数据三=pd.merge(数据<span class="number">1</span>,数据<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">30</span>*<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(数据三)</span><br></pre></td></tr></table></figure><p><code>数据三=pd.merge(数据1,数据2)</code>相当于<code>数据3 = pd.merge(数据1,数据2,on='姓名',how='inner')</code><br>左连接：第一列为基准<br><code>数据3 = pd.merge(数据1,数据2,on='姓名',how='left')</code><br>OuterMerge (全连接)：<br><code>数据3 = pd.merge(数据1,数据2,on='姓名',how='outer')</code>全部数据取并集<br>MultipleKey Merge (基于多个key上的merge)：<br>刚才我们都是仅仅实现的在一个key上的merge，当然我们也可以实现基于多个keys的merge改变On=的参数可使得二维键值合并</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据<span class="number">1</span> = pd.DataFrame(&#123;<span class="string">&#x27;姓名&#x27;</span>: [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>],<span class="string">&#x27;班级&#x27;</span>: [<span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;2班&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>],<span class="string">&#x27;分数&#x27;</span>: [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]&#125;)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">1</span>)</span><br><span class="line">数据<span class="number">2</span> = pd.DataFrame(&#123;<span class="string">&#x27;姓名&#x27;</span>: [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>],<span class="string">&#x27;班级&#x27;</span>: [<span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>, <span class="string">&#x27;1班&#x27;</span>,<span class="string">&#x27;2班&#x27;</span>],<span class="string">&#x27;分数&#x27;</span>: [<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>]&#125;)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br><span class="line">数据<span class="number">3</span>= pd.merge(数据<span class="number">1</span>,数据<span class="number">2</span>,on=[<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;班级&#x27;</span>]) <span class="comment"># 内连接（交集）的结果</span></span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">3</span>)</span><br><span class="line">数据<span class="number">4</span>= pd.merge(数据<span class="number">1</span>,数据<span class="number">2</span>,on=[<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;班级&#x27;</span>],how=<span class="string">&#x27;outer&#x27;</span>) <span class="comment"># 外连接（并集）的结果</span></span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>Merge on Index (基于index上的merge) :<br>我们还可以实现几个Dataframe基于Index的merge，还是老样子，先让我们创建两个Dataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">数据<span class="number">1</span> = pd.DataFrame(&#123;<span class="string">&#x27;姓名&#x27;</span>: [<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>],<span class="string">&#x27;次数&#x27;</span>:<span class="built_in">range</span>(<span class="number">5</span>)&#125;)</span><br><span class="line">数据<span class="number">2</span> = pd.DataFrame(&#123;<span class="string">&#x27;数据&#x27;</span>: [<span class="number">10</span>, <span class="number">20</span>]&#125;, index=[<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>])</span><br><span class="line">数据<span class="number">3</span>=pd.merge(数据<span class="number">1</span>,数据<span class="number">2</span>,left_on=<span class="string">&#x27;姓名&#x27;</span>,right_index=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">30</span>*<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">30</span>*<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">30</span>*<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">数据<span class="number">4</span>=pd.merge(数据<span class="number">1</span>,数据<span class="number">2</span>,left_on=<span class="string">&#x27;姓名&#x27;</span>,right_index=<span class="literal">True</span>,how=<span class="string">&#x27;outer&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>总结<br>（1）通过on指定数据合并对齐的列 （2）没有指定how的话默认使用inner方法，除了内连接，还包括左连接、右连接、全外连接</p><h3 id="分组聚合">分组聚合</h3><p>在pandas中，实现分组操作的代码很简单，仅需一行代码，在这里，将上面的数据集按照company字段进行划分：<code>group = data.groupby(&quot;company&quot;)</code><br>for groupy分组：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径=<span class="string">&#x27;d:/python-learn/分组.xlsx&#x27;</span></span><br><span class="line">数据=pd.read_excel(路径)</span><br><span class="line"><span class="keyword">for</span> (i,j),group <span class="keyword">in</span> 数据.groupby([<span class="string">&#x27;城市&#x27;</span>,<span class="string">&#x27;区&#x27;</span>]): </span><br><span class="line">    <span class="built_in">print</span>(i) <span class="comment">#所有城市的分组遍历  </span></span><br><span class="line">    <span class="built_in">print</span>(j) <span class="comment">#所有区的分组遍历</span></span><br><span class="line">    <span class="built_in">print</span>(group) <span class="comment">#分组</span></span><br></pre></td></tr></table></figure><p>分组聚合：<code>数据2=数据.groupby(['城市'，'区'])[['人数']].sum()</code>按城市和区分组，再用人数聚合<br>to_excel(DIY路径)可以把分组聚合后的文件另存为！！！不要使用原路径防止误操作覆盖原来好的文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径=<span class="string">&#x27;d:/python-learn/分组.xlsx&#x27;</span></span><br><span class="line">数据=pd.read_excel(路径)</span><br><span class="line">数据<span class="number">2</span>=数据.groupby([<span class="string">&#x27;城市&#x27;</span>,<span class="string">&#x27;区&#x27;</span>])[[<span class="string">&#x27;人数&#x27;</span>]].<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br><span class="line">数据<span class="number">2.</span>to_excel(<span class="string">&#x27;d:/python-learn/分组聚合.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><p>结果为</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">          人数</span><br><span class="line">城市  区</span><br><span class="line">北京市 东城区   <span class="number">88</span></span><br><span class="line">    西城区  <span class="number">112</span></span><br><span class="line">天津  南开区  <span class="number">108</span></span><br><span class="line">    和平区   <span class="number">97</span></span><br></pre></td></tr></table></figure><p>也可以将多个属性聚类，比如<code>数据2=数据.groupby(['城市','区'])[['人数','金额']].sum()</code><br>对各列分别进行函数运算：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;d:/python-learn/分组2.xlsx&#x27;</span></span><br><span class="line">数据 = pd.read_excel(路径)</span><br><span class="line"><span class="comment">#不同列的不同计算方法</span></span><br><span class="line">字典 = &#123;<span class="string">&#x27;1月&#x27;</span>:<span class="string">&#x27;count&#x27;</span>,<span class="string">&#x27;2月&#x27;</span>:<span class="built_in">sum</span>,<span class="string">&#x27;3月&#x27;</span>:<span class="built_in">max</span>,<span class="string">&#x27;4月&#x27;</span>:<span class="string">&#x27;mean&#x27;</span>&#125;</span><br><span class="line">数据<span class="number">2</span> = 数据.groupby(<span class="string">&#x27;店名&#x27;</span>).agg(字典)</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>注意：<br>如果按一列聚合，只传列名字符串，如果多个就要传由列名组成的列表<br>聚合方法可以使用 Pandas 的数学统计函数 或者 Numpy 的统计函数<br>如果是 python 的内置统计函数，直接使用变量，不需要加引号<br>agg函数一般与groupby配合使用，agg是基于列的聚合操作，而groupby是基于行的<br>DataFrame.agg（func，axis = 0，* args，** kwargs ）<br>func : 函数，函数名称，函数列表，字典{‘行名/列名’，‘函数名’}<br>使用指定轴上的一个或多个操作进行聚合。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;d:/python-learn/分组2.xlsx&#x27;</span></span><br><span class="line">数据 = pd.read_excel(路径,index_col=<span class="string">&#x27;店名&#x27;</span>)  </span><br><span class="line"><span class="comment">#不同列的不同计算方法</span></span><br><span class="line">字典 = &#123;<span class="string">&#x27;1月&#x27;</span>:<span class="string">&#x27;一季度&#x27;</span>,<span class="string">&#x27;2月&#x27;</span>:<span class="string">&#x27;一季度&#x27;</span>,<span class="string">&#x27;3月&#x27;</span>:<span class="string">&#x27;一季度&#x27;</span>,<span class="string">&#x27;4月&#x27;</span>:<span class="string">&#x27;二季度&#x27;</span>&#125;</span><br><span class="line">数据<span class="number">2</span> = 数据.groupby(字典,axis=<span class="number">1</span>).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>在read_excel中添加索引，先设计字典在按列axis=1按照字典值求和sum()<br>默认是对索引聚类，例如对店名的长度聚类</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;d:/python-learn/分组2.xlsx&#x27;</span></span><br><span class="line">数据 = pd.read_excel(路径,index_col=<span class="string">&#x27;店名&#x27;</span>)  </span><br><span class="line">数据<span class="number">2</span> = 数据.groupby(<span class="built_in">len</span>).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>对索引的名称长度和所在城市聚合<br><code>S1=['北京','北京','北京','北京','天津天津']</code> <code>数据2=数据.groupby([len.S1]).sum()</code><br>统计数值类型数据先对文字设置索引<br>groupby详细用法：<br>DataFrame.groupby(by=None, axis=0, level=None, as_index=True, sort=True, group_keys=True, squeeze=False, **kwargs)<br>by:接收映射、函数、标签或标签列表；用于确定聚合的组。<br>axis:接收0/1；用于表示沿行(0)或列(1)分割。<br>level:接收int、级别名称或序列，默认为None;如果轴是一个多索引（层次化），则按一个或多个特定级别分组。<br>as_index:接收布尔值，默认Ture;Ture则返回以组标签为索引的对象，False则不以组标签为索引。<br>mean()函数功能：求取均值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">路径 = <span class="string">&#x27;d:/python-learn/分组3.xlsx&#x27;</span></span><br><span class="line">数据 = pd.read_excel(路径,index_col=[<span class="number">0</span>,<span class="number">1</span>])  <span class="comment">#按男，女索引</span></span><br><span class="line">数据<span class="number">2</span>=数据.groupby(level=<span class="string">&#x27;班级&#x27;</span>).mean()</span><br><span class="line"><span class="built_in">print</span>(数据<span class="number">2</span>)</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>python数据分析</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://www.hgez6.top/posts/a9da3a59/">https://www.hgez6.top/posts/a9da3a59/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>本大鸟就是玩✈️~</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-06-12</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2023-10-14</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="business-center"><div class="business-card"><div class="business-flip"><div class="business-front"><div class="business-strip-bottom"></div><div class="business-strip-top"></div><img class="business-logo" width="80" height="80" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic2.zhimg.com/50/v2-debb46ef731baa386482f9cddc7cbc21_720w.webp?source=1940ef5c" alt="cardcode"><div class="business-Invitation">Invitation</div><div class="business-chip"><div class="business-chip-line"></div><div class="business-chip-line"></div><div class="business-chip-line"></div><div class="business-chip-line"></div><div class="business-chip-main"></div></div><svg class="business-wave" viewBox="0 3.71 26.959 38.787" width="26.959" height="38.787" fill="white"><path d="M19.709 3.719c.266.043.5.187.656.406 4.125 5.207 6.594 11.781 6.594 18.938 0 7.156-2.469 13.73-6.594 18.937-.195.336-.57.531-.957.492a.9946.9946 0 0 1-.851-.66c-.129-.367-.035-.777.246-1.051 3.855-4.867 6.156-11.023 6.156-17.718 0-6.696-2.301-12.852-6.156-17.719-.262-.317-.301-.762-.102-1.121.204-.36.602-.559 1.008-.504z"></path><path d="M13.74 7.563c.231.039.442.164.594.343 3.508 4.059 5.625 9.371 5.625 15.157 0 5.785-2.113 11.097-5.625 15.156-.363.422-1 .472-1.422.109-.422-.363-.472-1-.109-1.422 3.211-3.711 5.156-8.551 5.156-13.843 0-5.293-1.949-10.133-5.156-13.844-.27-.309-.324-.75-.141-1.114.188-.367.578-.582.985-.542h.093z"></path><path d="M7.584 11.438c.227.031.438.144.594.312 2.953 2.863 4.781 6.875 4.781 11.313 0 4.433-1.828 8.449-4.781 11.312-.398.387-1.035.383-1.422-.016-.387-.398-.383-1.035.016-1.421 2.582-2.504 4.187-5.993 4.187-9.875 0-3.883-1.605-7.372-4.187-9.875-.321-.282-.426-.739-.266-1.133.164-.395.559-.641.984-.617h.094zM1.178 15.531c.121.02.238.063.344.125 2.633 1.414 4.437 4.215 4.437 7.407 0 3.195-1.797 5.996-4.437 7.406-.492.258-1.102.07-1.36-.422-.257-.492-.07-1.102.422-1.359 2.012-1.075 3.375-3.176 3.375-5.625 0-2.446-1.371-4.551-3.375-5.625-.441-.204-.676-.692-.551-1.165.122-.468.567-.785 1.051-.742h.094z"></path></svg><div class="business-card-number"><div class="business-section">hgez6</div><div class="business-section">666666</div></div><div class="business-end"><span class="business-end-text">created:</span><span class="business-end-date">14/10/2022</span></div><div class="business-card-holder">Big Bird Luck Card</div><div class="business-master"><div class="business-circle business-master-red"></div><div class="business-circle business-master-yellow"></div></div></div><div class="business-back"><div class="business-strip-black"></div><div class="business-ccv"><label>鸟哥幸运卡</label><div><a target="_blank" rel="noopener" href="https://hgez6.top/">https://hgez6.top/</a></div></div><div class="business-terms"><p>Be happy .</p><p>This is luck card,wish you a nice day .</p></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload='this.media="all"'><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂作者</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://pic1.zhimg.com/50/v2-37fc665d11aad76118a540e75498b5be_720w.webp?source=1940ef5c" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic1.zhimg.com/50/v2-37fc665d11aad76118a540e75498b5be_720w.webp?source=1940ef5c" alt="Win!"></a><div class="post-qr-code-desc">Win!</div></li><li class="reward-item"><a href="https://pica.zhimg.com/50/v2-4a96a9401ec6f93f232a7bc5a72a072d_720w.webp?source=1940ef5c" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pica.zhimg.com/50/v2-4a96a9401ec6f93f232a7bc5a72a072d_720w.webp?source=1940ef5c" alt="666~"></a><div class="post-qr-code-desc">666~</div></li></ul></div></button></div><audio id="coinAudio" src="https://yun.hgez6.top/api/raw/?path=/picbed/audio/aowu.m4a"></audio><script defer src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/e0e0105/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yun.hgez6.top/api/raw/?path=/picbed/13.jpg" onerror='onerror=null,src="/assets/r2.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">翻译文章以及感想：微塑料对昆虫生理的影响及兴奋作用的指征</div></div></a></div><div class="next-post pull-right"><a href="/posts/a7247cbd/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yun.hgez6.top/api/raw/?path=/picbed/7.jpg" onerror='onerror=null,src="/assets/r2.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">域名重定向js</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:700">目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#numpy"><span class="toc-text">Numpy</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E7%AB%A0%EF%BC%9A%E6%95%B0%E7%BB%84%E5%92%8C%E7%9F%A9%E9%98%B5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">序章：数组和矩阵的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-text">创建数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">多维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%AE%A1%E7%AE%97"><span class="toc-text">数组计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E8%A7%84%E5%88%99"><span class="toc-text">广播规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B4%A2%E5%BC%95%E4%B8%8E%E5%88%87%E7%89%87"><span class="toc-text">基础索引与切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%B4%A2%E5%BC%95"><span class="toc-text">布尔索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A5%9E%E5%A5%87%E7%B4%A2%E5%BC%95"><span class="toc-text">神奇索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E7%9A%84%E8%BD%B4"><span class="toc-text">Numpy的轴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B2%BF%E8%BD%B4%E5%88%87%E7%89%87"><span class="toc-text">沿轴切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-text">随机数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E5%92%8C%E7%BB%9F%E8%AE%A1%E6%96%B9%E6%B3%95"><span class="toc-text">数学和统计方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">一维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#numpy%E7%9A%84axis%E5%8F%82%E6%95%B0%E7%9A%84%E7%94%A8%E9%80%94"><span class="toc-text">Numpy的axis参数的用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E6%9D%A1%E4%BB%B6%E9%80%BB%E8%BE%91%E4%BD%9C%E4%B8%BA%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C"><span class="toc-text">将条件逻辑作为数组操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E5%80%BC%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-text">布尔值数组方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E5%80%BC%E5%A4%A7%E5%B0%8F%E6%8E%92%E5%BA%8F-sort"><span class="toc-text">按值大小排序 sort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E5%A4%A7%E5%88%B0%E5%B0%8F%E7%9A%84%E7%B4%A2%E5%BC%95-argsort"><span class="toc-text">从大到小的索引 argsort</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E9%94%AE%E5%80%BC%E7%9A%84%E5%AD%97%E5%85%B8%E5%BA%8F%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F-lexsort"><span class="toc-text">根据键值的字典序进行排序 lexsort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E5%80%BC%E4%B8%8E%E5%85%B6%E5%AE%83%E9%9B%86%E5%90%88%E9%80%BB%E8%BE%91-unique%E5%92%8Cin1d"><span class="toc-text">唯一值与其它集合逻辑 unique和in1d</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-text">浅拷贝与深拷贝</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pandas"><span class="toc-text">Pandas</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-text">数据类型与新建文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-text">读取数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B7%B1%E5%88%B6%E5%AE%9A%E5%88%86%E9%9A%94%E7%AC%A6-%E5%88%97%E5%90%8D-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E5%A4%B4"><span class="toc-text">自己制定分隔符、列名,自定义表头</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#txt%E6%96%87%E4%BB%B6%E8%BD%ACcsv%E6%96%87%E4%BB%B6"><span class="toc-text">txt文件转csv文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96mysql%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">读取MySQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96excel%E6%96%87%E4%BB%B6"><span class="toc-text">读取Excel文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">pandas数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%85%E6%9C%89%E6%95%B0%E6%8D%AE%E5%88%97%E8%A1%A8%E5%8D%B3%E5%8F%AF%E4%BA%A7%E7%94%9F%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84series"><span class="toc-text">仅有数据列表即可产生最简单的Series</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%91%E4%BB%AC%E6%8C%87%E5%AE%9Aseries%E7%9A%84%E7%B4%A2%E5%BC%95"><span class="toc-text">我们指定Series的索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8python%E5%AD%97%E5%85%B8%E5%88%9B%E5%BB%BAseries"><span class="toc-text">使用Python字典创建Series</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E5%92%8C%E5%80%BC%E5%AD%98%E5%9C%A8%E4%B8%A4%E4%B8%AA%E5%88%97%E8%A1%A8%E4%B8%AD-%E5%88%9B%E5%BB%BAseries"><span class="toc-text">键和值存在两个列表中，创建Series</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86dataframe"><span class="toc-text">认识DataFrame</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dataframe-%E6%95%B4%E4%B8%AA%E8%A1%A8%E6%A0%BC"><span class="toc-text">DataFrame 整个表格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dataframe%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">DataFrame常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2-%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6%E4%B8%8E%E9%87%8D%E5%A1%91"><span class="toc-text">连接查询[数据合并与重塑]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88"><span class="toc-text">分组聚合</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color:transparent"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">魔改指南</a><a href="/box/nav/">网址导航</a></li><li><a href="/social/link/">我的朋友</a><a href="/comments/">留点什么</a></li><li><a href="/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/mypicture/">我的相册</a><a href="/personal/bb/">我的唠叨</a></li><li><a href="/aboutweb/">关于本站</a><a href="/site/census/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/" title="Fomalhaut🥝"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/60e5d4e39da7c077.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""></a></div></div></div></div><div class="copyright"><span><b>&copy;2021-2024</b></span><span><b>&nbsp;&nbsp;By 本大鸟就是玩✈️~</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hgez6.top/" style="margin-inline:5px" title="作者为hgez6"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/auther-hgez6-blueviolet.svg" alt=""></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/Theme-Butterfly-6513df.svg" alt=""></a><a class="github-badge" target="_blank" href="https://cn.bing.com/" style="margin-inline:5px" title="SEO 支持-Bing"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/SEO-bing-important.svg" alt=""></a><a class="github-badge" target="_blank" href="https://tongji.baidu.com/web/welcome/login" style="margin-inline:5px" title="统计支持-百度统计"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/analysis-Baidu-green.svg" alt=""></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20226066号"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/MICP.svg" alt=""></a><a class="github-badge" target="_blank" href="https://hgez6.top/aboutweb/" style="margin-inline:5px" title="使用模块化部署技术可整合多种前端框架"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" /img/badge/Technology-Modularization-ff96b4.svg" alt=""></a><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/Frame-Hexo-blue.svg" alt=""></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/badge/Page-Github-1586be.svg" alt=""></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight,500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();"><i class="fa fa-book"></i><span>阅读模式</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading()),setTimeout((function(){preloader.endLoading()}),5e3),document.getElementById("loading-box").addEventListener("click",(()=>{preloader.endLoading()}))</script><div class="js-pjax"><script>if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"},chtml:{scale:1.2},options:{renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const a=!!e.type.match(/; *mode=display/),n=new t.options.MathItem(e.textContent,t.inputJax[0],a),s=document.createTextNode("");e.parentNode.replaceChild(s,e),n.start={node:s,delim:"",n:0},n.end={node:s,delim:"",n:0},t.math.push(n)}},""],insertScript:[200,()=>{document.querySelectorAll("mjx-container:not([display])").forEach((t=>{const e=t.parentNode;"li"===e.nodeName.toLowerCase()?e.parentNode.classList.add("has-jax"):e.classList.add("has-jax")}))},"",!1]}}};const t=document.createElement("script");t.src="/pluginsSrc/mathjax/es5/tex-mml-chtml.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}</script><script>function addGitalkSource(){const e=document.createElement("link");e.rel="stylesheet",e.href="/pluginsSrc/gitalk/dist/gitalk.css",document.getElementsByTagName("head")[0].appendChild(e)}function loadGitalk(){function e(){new Gitalk(Object.assign({clientID:"df0b9c9de6d72825d4e1",clientSecret:"45cca8da59c6a1b17cb0fa0c02267b31a2b21df1",repo:"hgez6.github.io",owner:"hgez6",admin:["hgez6"],id:"0e957eef8e21182e1b136feed589a1ae",updateCountCallback:commentCount},null)).render("gitalk-container")}"function"==typeof Gitalk?e():(addGitalkSource(),getScript("/pluginsSrc/gitalk/dist/gitalk.min.js").then(e))}function commentCount(e){let t=document.querySelector("#post-meta .gitalk-comment-count");t&&(t.innerHTML=e)}{function loadOtherComment(){loadGitalk()}btf.loadComment(document.getElementById("gitalk-container"),loadGitalk)}</script></div><script src="/js/chajian/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="/js/chajian/clipboard.min.js"></script><script defer src="/js/chajian/sweetalert2.all.js"></script><script async src="/js/chajian/pace.min.js"></script><script defer src="/js/chajian/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="/js/chajian/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><div class="aplayer no-destroy" data-id="2084738832" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-preload="none" data-autoplay="false" data-title="false" data-lrctype="1" muted></div><script async src="//at.alicdn.com/t/font_3148439_cfvkyebna8.js"></script><script async src="//at.alicdn.com/t/c/font_3148439_fsiy1xlmgzj.js"></script><script async src="//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js"></script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script async data-pjax src="/js/diytianq.js"></script><script src="/js/chajian/echarts.min.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/music/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script data-pjax>if(document.getElementById("recent-posts")&&"/"===location.pathname){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://www.hgez6.top/categories/嵌入式/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 小白瞎搞 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.hgez6.top/categories/学习记录/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 持续学习！ (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.hgez6.top/categories/开源/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱‍👓 开放源码咯 (9)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.hgez6.top/categories/高等数学/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 数学永远的神 (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://www.hgez6.top/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child)}</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#e9e9e9;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style><script data-pjax>function butterfly_swiper_injector_config(){var i=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),i.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/65d9a22/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://picsum.photos/id/635/300/300" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-21</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/65d9a22/&quot;);" href="javascript:void(0);" alt="">别忘了早上涂疤痕灵戴帽子！</a><div class="blog-slider__text">别忘了早上涂疤痕灵戴帽子</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/65d9a22/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/15a6564e/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://picsum.photos/id/432/5000/3333" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-01-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/15a6564e/&quot;);" href="javascript:void(0);" alt="">TCP局域网内点对点控制方案</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/15a6564e/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/63350/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://picsum.photos/id/430/5000/3333" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-01-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/63350/&quot;);" href="javascript:void(0);" alt="">一种轻量化云端闭环设备间协同算法设计</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/63350/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="/",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="/js/chajian/swiper.min.js"></script><script defer data-pjax src="/js/chajian/swiper_init.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","2s"),arr[i].setAttribute("data-wow-delay","200ms"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","2s"),arr[i].setAttribute("data-wow-delay","200ms"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script></div><script defer src="/js/chajian/wow.min.js"></script><script defer src="/js/chajian/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>function gitcalendar_injector_config(){document.getElementById("recent-posts").insertAdjacentHTML("afterbegin",'<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>'),console.log("已挂载gitcalendar")}document.getElementById("recent-posts")&&"/"===location.pathname&&(gitcalendar_injector_config(),GitCalendarInit("https://gitapi.hgez6.top/api?hgez6",["#d9e0df","#c6e0dc","#a8dcd4","#9adcd2","#89ded1","#77e0d0","#5fdecb","#47dcc6","#39dcc3","#1fdabe","#00dab9"],"hgez6"))</script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script></body></html>